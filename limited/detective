**Detective** | Unaligned Investigative | Limited
__Basics__
The Detective tries to connect a list of players with a list of roles. During the day, the Detective may check the role of a player. When the list of roles is correctly connected to the list of players, the Detective wins.
__Details__
The Detective starts out with a part of the role list and a part of the player list. These lists are a third of the role list and player list rounded up. The rolelist and playerlist will always contain at least one player from every team that has at least two players, but never the Detective themself. Which players are on the list and how they are sorted is determined arbitrarily.
Each day, the Detective may choose between guessing a player's current role or learning the final role of a dead player. If they guess a player's current role correctly, it is confirmed.
Each night, the Detective must try to pair all the players from the player list with their corresponding role from the role list. When a player and role are paired up correctly, the player will be unable to perform any actions for the next day and night. A player will only have this effect applied at the Detective's first correct pairing; any subsequent correct pairings have no effect on the guessed player.
If the Detective submits a fully or partially incorrect list, they are told the number of correct pairs they made, but not which pairs these were. The Detective may submit a partial configuration, but only a complete configuration can result in ascension.
The Detective is not affected by any disguises, obstructions, or redirections.

__Simplified__
The Detective wins by correctly matching roles to players.
Each day, the Detective may either guess one player's current role or learn the final role of a dead player.
Each night, the Detective must submit a role list containing predetermined roles and players.

__Formalized__
Unique Role
Starting: {Visitless}
  • Set Counter to ceil $total/3
  • Apply `DetectiveList` to @Self
  • For Each &All:
    ‣ &Ind->Members->Count > 1:
      ◦ Decrement Counter
      ◦ Apply `DetectiveList` to &Ind->Members->RandomPlayer
  • Emit `Build List`
On `Build List` Emitted: [Condition: @Self->Counter > 0] {Visitless}
  • Decrement Counter
  • Apply `DetectiveList` to @(AttrSelf:!DetectiveList,SelectAll:False)
  • Emit `Build List`
On `Build List` Emitted: [Condition: @Self->Counter is 0]
  • Process:
    ‣ Remove `DetectiveList` from @Self
    ‣ Decrement Counter
    ‣ Shuffle @(AttrSelf:DetectiveList)
    ‣ Shuffle @(AttrSelf:DetectiveList)->Role
  • Evaluate:
    ‣ Learn `Detective List (Players): @Result3`
    ‣ Learn `Detective List (Roles): @Result4`
Passive Start Day: `Detective` Choice Creation (CurrentRole, FinalRole)
Immediate Day: `Detective` Choice Choose @Chosen
Choice `CurrentRole` Chosen: |detective.1|
  • Process: Role Investigate @Selection
  • Evaluate:
    ‣ @Result is `Failure`: `Guess failed`
    ‣ @Result is @SecondarySelection[role]: `@Selection as @SecondarySelection[role]: Correct`
    ‣ Otherwise: `@Selection as @SecondarySelection[role]: Incorrect`
Choice `FinalRole` Chosen: |detective.2|
  • Process: Role Investigate @Selection[Dead]
  • Evaluate: `@Selection final role: @Result->Role`
Passive Start Night:
  • Process:
    ‣ Set Counter to 0
    ‣ Remove `DetectiveFailed` from @(AttrSelf:DetectiveFailed)
End Night: [Attribute: @Selection has `DetectiveList`] ⟨@(AttrSelf:DetectiveList,AliveOnly:False)->Count⟩ |detective.3|
  • Process: Role Investigate @Selection
  • Evaluate:
    ‣ @Result is `Failure`: `Guess failed`
    ‣ (@Result is @SecondarySelection[role]) and (@Selection has `DetectiveGuessed`):
      ◦ Increment Counter by 1
      ◦ Apply `DetectiveGuessed` to @Selection
    ‣ @Result is @SecondarySelection[role]:
      ◦ Increment Counter by 1
      ◦ Apply `DetectiveFailed` to @Selection (~Phase)
    ‣ Otherwise:
      ◦ Increment Counter by 0
      ◦ Apply `DetectiveFailed` to @Selection (~Phase)
Passive End Night: Learn `You guessed @Self->Counter players correctly`

__Card__
A new face in town, the Detective tries to find out some occupations through research.
